{"version":3,"file":"static/js/278.3539d0c3.chunk.js","mappings":"qLAEaA,E,OAAgBC,GAAAA,IAAH,6D,oFCAbC,GAAYD,EAAAA,EAAAA,IAAO,MAAPA,CAAH,oNAYTE,GAAUF,EAAAA,EAAAA,IAAO,MAAPA,CAAH,wCAGPG,GAAYH,EAAAA,EAAAA,IAAO,OAAPA,CAAH,sBACTI,GAAaJ,EAAAA,EAAAA,IAAO,IAAPA,CAAH,+C,kBCTVK,EAAgB,SAAC,GAGvB,IAAD,IAFJC,KAAQC,EAEJ,EAFIA,GAAIC,EAER,EAFQA,MAAOC,EAEf,EAFeA,aAAcC,EAE7B,EAF6BA,YACjCC,EACI,EADJA,SAEA,OACE,UAACV,EAAD,YACE,UAAC,KAAD,CAAMW,GAAE,kBAAaL,GAAMM,MAAO,CAAEC,KAAMH,GAA1C,WACE,SAACT,EAAD,CAASa,IAAG,yCAAoCL,GAAeM,IAAI,MAEnE,SAACZ,EAAD,oBAAgBI,MAChB,SAACL,EAAD,qBAAgBM,EAAaQ,MAAM,KAAK,GAAxC,UACM,MAGb,C,gHCrBYC,E,MAAaC,GAAAA,OAAa,CACrCC,QAAS,gCACTC,OAAQ,CACNC,QAAQ,sCCDCC,EAAW,SAACC,EAAUC,GACjC,OAA4BC,EAAAA,EAAAA,UAAS,QAArC,eAAOC,EAAP,KAAeC,EAAf,KACA,GAAwBF,EAAAA,EAAAA,UAAS,IAAjC,eAAOpB,EAAP,KAAauB,EAAb,KAkCA,OAhCAC,EAAAA,EAAAA,YAAU,WACR,IAAIC,EACJ,OAAQP,GACN,IAAK,WACHO,EAAa,CAAC,GAAD,OAAIP,EAAJ,gBACb,MACF,IAAK,QACHO,EAAa,CAAC,UAAD,OAAWN,IACxB,MACF,IAAK,UACL,IAAK,UACHM,EAAa,CAAC,UAAD,OAAWN,EAAX,YAAoBD,IACjC,MACF,IAAK,SACHO,EAAcN,EAEV,CAAC,IAAD,OAAKD,EAAL,UAAuB,CAAEH,OAAQ,CAAEI,MAAAA,KADnC,MAQR,iBAAC,iFACCG,EAAU,YADX,KAICC,EAJD,KAISE,GAJT,qCAI8Bb,EAAWc,IAAXd,MAAAA,GAAU,OAAQa,IAJhD,mDAKCH,EAAU,WALX,2CAAD,EAOD,GAAE,CAACJ,EAAUC,IAEPnB,EAAO,CAACA,EAAMqB,GAAU,CAAC,GAAIA,EACrC,C,yGCaD,UAhDe,WACb,OAAoCD,EAAAA,EAAAA,UAAS,IAA7C,eAAOO,EAAP,KAAmBC,EAAnB,KACA,GAAwCC,EAAAA,EAAAA,MAAxC,eAAOC,EAAP,KAAqBC,EAArB,KACM1B,GAAW2B,EAAAA,EAAAA,MACjB,GAAmBf,EAAAA,EAAAA,GAAS,SAAUa,EAAaJ,IAAI,UAA9C1B,GAAT,eAASA,KAMT,OAJAwB,EAAAA,EAAAA,YAAU,WACRI,EAAcE,EAAaJ,IAAI,QAChC,GAAE,CAAC1B,EAAM8B,EAAcH,KAGtB,iCACE,oCACA,kBACEM,SAAU,SAAAC,GACRA,EAAEC,iBACFJ,EACEG,EAAEE,OAAOjB,MAAMkB,MAAQ,CAAElB,MAAOe,EAAEE,OAAOjB,MAAMkB,OAAU,CAAC,GAE5DH,EAAEE,OAAOjB,MAAMkB,MAAQ,EACxB,EAPH,WASE,mBAAOC,QAAQ,GAAf,uFAEE,mBACA,kBAAOC,KAAK,OAAOC,KAAK,cAE1B,mBAAQD,KAAK,SAAb,+CAEDvC,GACC,SAAC,IAAD,UACGA,EAAKyC,QAAQC,OACZ1C,EAAKyC,QAAQE,KAAI,SAAAC,GACf,OACE,SAAC,IAAD,CAA6B5C,KAAM4C,EAAMvC,SAAUA,GAA/BuC,EAAK3C,GAE5B,KAED,2HAIJ,8JAIP,C","sources":["components/MovieGrid/MovieGrid.js","components/MovieGridItem/MovieGridItem.styled.js","components/MovieGridItem/MovieGridItem.jsx","services/request-config.js","hooks/useFetch.js","pages/Movies/Movies.jsx"],"sourcesContent":["import styled from 'styled-components';\n\nexport const GridConteiner = styled.div`\n  display: flex;\n  flex-wrap: wrap;\n`;\n","import styled from 'styled-components';\n\nexport const LinkThumb = styled('div')`\n  margin: 5px;\n  display: block;\n  width: 23%;\n  display: flex;\n  flex-direction: column;\n  /* justify-content: center; */\n  a {\n    color: black;\n    text-decoration: none;\n  }\n`;\nexport const LinkImg = styled('img')`\n  width: 100%;\n`;\nexport const MovieYear = styled('span')``;\nexport const MovieTitle = styled('p')`\n  margin: 10px 0 0 0;\n`;\n","import {\n  LinkThumb,\n  MovieYear,\n  LinkImg,\n  MovieTitle,\n} from './MovieGridItem.styled';\nimport { Link } from 'react-router-dom';\nimport PropTypes from 'prop-types';\n\nexport const MovieGridItem = ({\n  data: { id, title, release_date, poster_path },\n  location,\n}) => {\n  return (\n    <LinkThumb>\n      <Link to={`/movies/${id}`} state={{ from: location }}>\n        <LinkImg src={`https://image.tmdb.org/t/p/w300${poster_path}`} alt=\"\" />\n\n        <MovieTitle>{`${title}`}</MovieTitle>\n        <MovieYear>{`(${release_date.split('-')[0]})`}</MovieYear>\n      </Link>{' '}\n    </LinkThumb>\n  );\n};\n\nMovieGridItem.propTypes = {\n  data: PropTypes.shape({\n    id: PropTypes.number.isRequired,\n    title: PropTypes.string.isRequired,\n    release_date: PropTypes.string.isRequired,\n    poster_path: PropTypes.string.isRequired,\n  }),\n  location: PropTypes.object,\n};\n","import axios from 'axios';\n\nexport const tmdbConfig = axios.create({\n  baseURL: 'https://api.themoviedb.org/3/',\n  params: {\n    api_key: `46e4b076bb2368b618b662908195e79d`,\n  },\n});\n","import { useState, useEffect } from 'react';\n\nimport { tmdbConfig } from 'services/request-config';\n\nexport const useFetch = (endpoint, query) => {\n  const [status, setStatus] = useState('idle');\n  const [data, setData] = useState([]);\n\n  useEffect(() => {\n    let requestUrl;\n    switch (endpoint) {\n      case 'trending':\n        requestUrl = [`${endpoint}/movie/week`];\n        break;\n      case 'movie':\n        requestUrl = [`/movie/${query}`];\n        break;\n      case 'credits':\n      case 'reviews':\n        requestUrl = [`/movie/${query}/${endpoint}`];\n        break;\n      case 'search':\n        requestUrl = !query\n          ? null\n          : [`/${endpoint}/movie`, { params: { query } }];\n\n        break;\n      default:\n        break;\n    }\n\n    (async () => {\n      setStatus('fetching');\n      // const data = requestUrl && (await tmdbConfig.get(...requestUrl));\n\n      setData(requestUrl && (await tmdbConfig.get(...requestUrl)));\n      setStatus('fetched');\n    })();\n  }, [endpoint, query]);\n\n  return data ? [data, status] : [[], status];\n};\n\n// export const App = () => {\n//   const [query, setQuery] = useState('');\n//   const [status, data] = useFetch(query);\n\n//   useEffect(() => {\n//     if (data.length) {\n//       console.log(data);\n//       console.log(status);\n//     }\n//   }, [data, status]);\n\n//   const onInputChange = e => {\n//     e.preventDefault();\n//     setQuery(e.target.name.value);\n//   };\n\n//   return (\n//     <div>\n//       <form action=\"\" onSubmit={onInputChange}>\n//         <input type=\"text\" name=\"name\"></input>\n//         <button type=\"submit\">Запрос</button>\n//       </form>\n//     </div>\n//   );\n// };\n","import { GridConteiner } from 'components/MovieGrid/MovieGrid';\nimport { MovieGridItem } from 'components/MovieGridItem/MovieGridItem';\nimport { useFetch } from 'hooks/useFetch';\nimport { useEffect, useState } from 'react';\nimport { useLocation, useSearchParams } from 'react-router-dom';\n\nconst Movies = () => {\n  const [searchLine, setSearchLine] = useState('');\n  const [searchParams, setSearchParams] = useSearchParams();\n  const location = useLocation();\n  const [{ data }] = useFetch('search', searchParams.get('query'));\n\n  useEffect(() => {\n    setSearchLine(searchParams.get('name'));\n  }, [data, searchParams, searchLine]);\n\n  return (\n    <>\n      <h1>Movies</h1>\n      <form\n        onSubmit={e => {\n          e.preventDefault();\n          setSearchParams(\n            e.target.query.value ? { query: e.target.query.value } : {}\n          );\n          e.target.query.value = '';\n        }}\n      >\n        <label htmlFor=\"\">\n          Строка поиска\n          <br />\n          <input type=\"text\" name=\"query\" />\n        </label>\n        <button type=\"submit\">Поиск</button>\n      </form>\n      {data ? (\n        <GridConteiner>\n          {data.results.length ? (\n            data.results.map(item => {\n              return (\n                <MovieGridItem key={item.id} data={item} location={location} />\n              );\n            })\n          ) : (\n            <p>Такого фильма нет</p>\n          )}\n        </GridConteiner>\n      ) : (\n        <p>Введите название фильма</p>\n      )}\n    </>\n  );\n};\n\nexport default Movies;\n"],"names":["GridConteiner","styled","LinkThumb","LinkImg","MovieYear","MovieTitle","MovieGridItem","data","id","title","release_date","poster_path","location","to","state","from","src","alt","split","tmdbConfig","axios","baseURL","params","api_key","useFetch","endpoint","query","useState","status","setStatus","setData","useEffect","requestUrl","get","searchLine","setSearchLine","useSearchParams","searchParams","setSearchParams","useLocation","onSubmit","e","preventDefault","target","value","htmlFor","type","name","results","length","map","item"],"sourceRoot":""}